<div class="create-container">
  <div class="fill-form-message" *ngIf="!isFillForm">
    <span>Please enter all mandatory field (*)</span>
  </div>
  <form [formGroup]="formCreateProject" (ngSubmit)="onFormSubmit()">
    <div class="input-container">
      <div class="input-title">
        <label> Project number </label>
        <span>*</span>
      </div>

      <div class="input-user">
        <input
          id="projectNumber"
          name="projectNumber"
          type="number"
          formControlName="projectNumber"
          min="1"
          readonly="{{ !isAddMode }}"
        />
        <small
          class="error-message"
          *ngIf="
            projectNumber.invalid &&
            (projectNumber.dirty || projectNumber.touched)
          "
        >
          <div *ngIf="projectNumber.errors?.['required']">
            Project number is required
          </div>
        </small>
      </div>
    </div>
    <div class="input-container">
      <div class="input-title">
        <label> Project name </label>
        <span>*</span>
      </div>
      <div class="input-user">
        <input
          required
          id="projectName"
          name="projectName"
          type="text"
          style="flex: 1"
          formControlName="name"
        />
        <small
          class="error-message"
          *ngIf="name.invalid && (name.dirty || name.touched)"
        >
          <div *ngIf="name.errors?.['required']">Project name is required</div>
        </small>
      </div>
    </div>
    <div class="input-container">
      <div class="input-title">
        <label> Customer </label>
        <span>*</span>
      </div>
      <div class="input-user">
        <input
          required
          id="customer"
          name="customer"
          type="text"
          style="flex: 1"
          formControlName="customer"
        />
        <small
          class="error-message"
          *ngIf="customer.invalid && (customer.dirty || customer.touched)"
        >
          <div *ngIf="customer.errors?.['required']">Customer is required</div>
        </small>
      </div>
    </div>
    <div class="input-container">
      <div class="input-title">
        <label> Group </label>
        <span>*</span>
      </div>
      <div class="input-user">
        <p-dropdown
          [options]="groupList"
          formControlName="groupId"
          placeholder="New"
          optionLabel="id"
          optionValue="id"
          [style]="{ width: '160px', height: '30px' }"
          (onChange)="changeGroup($event.value)"
        ></p-dropdown>
      </div>
    </div>

    <div class="input-container">
      <div class="input-title">
        <label> Members </label>
        <span>*</span>
      </div>
      <div class="input-user">
        <div class="select-container">
          <p-multiSelect
            [options]="employeeList"
            formControlName="members"
            optionLabel="visa"
            optionValue="id"
            [style]="{ width: '100%', height: '30px' }"
          ></p-multiSelect>
        </div>
        <small
          class="error-message"
          *ngIf="members.invalid && (members.dirty || members.touched)"
        >
          <div *ngIf="members.errors?.['required']">Members is required</div>
        </small>
      </div>
    </div>
    <div class="input-container">
      <div class="input-title">
        <label> Status </label>
        <span>*</span>
      </div>
      <div class="input-user">
        <p-dropdown
          [options]="statusList"
          formControlName="status"
          placeholder="Status"
          optionLabel="name"
          optionValue="value"
          [style]="{ width: '160px', height: '30px' }"
        ></p-dropdown>
      </div>
    </div>

    <div class="date-container">
      <div class="input-container">
        <div class="input-title">
          <label> Start date </label>
          <span>*</span>
        </div>
        <div class="input-user">
          <input type="date" required formControlName="startDate" />

          <small
            class="error-message"
            *ngIf="startDate.invalid && (startDate.dirty || startDate.touched)"
          >
            <div *ngIf="startDate.errors?.['required']">
              Start date is required
            </div>
          </small>
        </div>
      </div>

      <div class="input-container">
        <div class="input-title">
          <label> End date </label>
        </div>

        <div class="input-user">
          <input type="date" formControlName="endDate" />
        </div>
      </div>
    </div>

    <hr />
    <div class="btn-container">
      <button class="cancel-btn">Cancel</button>
      <button class="create-btn" type="submit">
        {{ isAddMode ? "Create project" : "Update project" }}
      </button>
    </div>
  </form>
</div>
